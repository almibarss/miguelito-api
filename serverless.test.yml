- name: shorten endpoint ok
  endpoint:
    method: POST
    path: /public/links
  request:
    body:
      origin: https://www.google.com
  response:
    status: 200
    body:
      origin: https://www.google.com

- name: unauthenticated users are not allowed custom paths
  endpoint:
    method: POST
    path: /public/links
  request:
    body:
      origin: https://www.google.com
      backhalf: custom
  response:
    status: 400

- name: unauthenticated users are not allowed custom paths
  endpoint:
    method: POST
    path: /public/links
  request:
    headers:
      Content-Type: application/x-www-form-urlencoded
    body:
      origin: https://www.google.com
      backhalf: custom
  response:
    status: 415

- name: unauthenticated users are not allowed custom paths
  endpoint:
    method: POST
    path: /links
  request:
    body:
      origin: https://www.google.com
      backhalf: custom
  response:
    status: 401

- name: unauthenticated users are not allowed to invoke list
  endpoint:
    method: GET
    path: /links
  response:
    status: 401

- name: unauthenticated users are not allowed to invoke delete
  endpoint:
    method: DELETE
    path: /links/my-url
  response:
    status: 401
